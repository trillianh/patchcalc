<!DOCTYPE html>
<style>
@font-face{
	font-family: 'StrongSword_New';
	src: url('web_pearl_original.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
}
.content {
	max-width: 960px;
  	margin: auto;
}
body{
	text-align: center;
	font-family: 'StrongSword_New';
	background-color: rgb(204, 195, 185);
}
td#header{
	text-align: center;
	color: black;
	background-color: rgb(161, 143, 94);
}
tr td:nth-child(4){
	text-align: right;
	color: rgb(204, 195, 185);
	background-color: #332919;
	width: 10% ;
}
th{
	background-color: rgb(161, 143, 94);
	color: black;
}
tr td:nth-child(1){
	color: black;
	text-align: center;
	background-color: rgb(161, 143, 94);
	width: 30% ;
}
tr td:nth-child(2){
	text-align: center;
	color: rgb(204, 195, 185);
	background-color: #332919;
}
tr td:nth-child(3){
	text-align: center;
	color: rgb(204, 195, 185);
	background-color: #332919;
}
tr td:nth-child(5){
	text-align: left;
	color: rgb(204, 195, 185);
	background-color: #332919;
	width: 10% ;
}
table,th,td{
	padding: 5px;
	border-collapse: collapse;
	border: 1px solid white;
}
div#border{
	padding: 15px;
	max-width: 796px;
	background-color: #332919;
}
div#title{
	background-color:  #332919;
	color: white;
	text-align: "center";
	font-size: larger;
	border: "none";
}
div#or{
	color: rgb(204, 195, 185);
	font-size:xx-small;
}
#classcell:nth-child(1){
	padding: 15px;
	background-color:  #332919;
	color: white;
	text-align: "center";
	font-size: large;
	border-style: solid hidden solid hidden;
	border-color: white;
}

</style>
<meta charset="utf-8">
<html>
<h1 style="text-align: 	center"></h1>
<body onload="onload()" class="content">
<script>
	//A18F5E
	//332919
	const SKILL_NAMES_STAFF = {
		//wizard
		"파멸의 불덩이":"Bolide of Destruction","물폭탄":"Aqua Bomb","수막 폭렬":"Aqua Jail Explosion","물의 세례":"Barrage of Water","용암 폭렬":"Magma Bomb","쇄도하는 물줄기":"Torrential Cascade",
		"업화":"Hellfire","화염의 부름":"Flame's Calling","대재앙":"Cataclysm","차가운 파도":"Chilling Wave","아네의인도":"Arne's Guidance","아네의수류":"Arne's Stream","불꽃숨결마그":"Fire Breath Marg",
		"불주먹마그":"Fire Fist Marg","용암지대":"Lava Field","번개폭풍고압":"Lightning Storm: High Voltage","불비":"Rain of Fire","현자의심장":"Sage's Rage","소환파수꾼아네":"Keeper Arne",
		"소환파수꾼마그":"Keeper Marg","신속한지":"Swift Earthquake","번개의동":"Trembling Thunder","물구슬":"Water Sphere",
		//witch
		"균형 붕괴":"Equilibrium Break", "고르의 축복 시":"Gorr's Blessing","테트의 강림 시":"Tett's Ascent","균열의파도":"Fissure Wave", "뇌전 폭풍":"Thunder Storm","번개의 세례":"Barrage of Lightning",
		"전류 파동":"Voltaic Pulse","감벼락":"Lightning Blast","전류파동":"Voltaic Pulse","폭류":"Detonative Flow","솟구치는대지":"Earthen Eruption","고르띄우기":"Gorr Launch",
		"고르굴리기":"Gorr Roll","완벽한신호":"Perfect Sign","테트의분노":"Rage Tett","테트의전류":"Voltaic Tett","현자의낙뢰":"Sage's Thunder","소환파수꾼고르":"Keeper Gorr","소환파수꾼테트":"Keeper Tett",
		"거부하는가시":"Thorns of Denial","범람하는맹독":"Toxic Flood","시련의질곡":"Yoke of Ordeal",
		"지면의 : 응답":"Earth's Response: Flow",
		"고르":"Gorr","테트":"Tett",
		//succ staff
		"대지의화살":"Earth Arrow","지면의응답 : 파괴":"Earth's Response: Destruction","집중":"Focus","확산":"Diffuse","전류 방전":"Voltaic Discharge","다중 마법 화살":"Multiple Magic Arrows","빙결":"Freeze","지진 : 파괴":"Earthquake: Destruction","지진 : 회피":"Earthquake: Evade",
		"유성낙하":"Meteor Shower","광역":"Areal","집중":"Focus","눈보라":"Blizzard","응축된마법화살":"Concentrated Magic Arrow","단검찌르기":"Dagger Stab","지면의응답":"Earth's Response","화염구폭발":"Fireball Explosion",
		"화염구":"Fireball","빙결":"Freeze","차가운안개":"Frigid Fog","벼락":"Lightning","번개사슬":"Lightning Chain","번개폭풍":"Lightning Storm","잔류번개":"Residual Lightning","폭풍":"Storm","억제":"Control",
		"방해":"Disrupt"
	}
	const SKILL_NAMES_GUARDIAN = {
		//guardian
		"설산 가름":"Avalanche Strike","도끼날리기":"Axe Throw","야수사냥":"Beast Demolisher","검은피의영역":"Black Blood Circle","검은피의도륙":"Black Blood Slaughter",
		"검은피의림":"Black Blood's Descent","거암가르기":"Boulder Crush","드잡이":"Chokeslam","발톱꺼내기":"Claw Reveal","격정":"Fervor","맹렬한기만":"Fierce Disdain",
		"광기":"Frenzy","서리절개":"Frost Strike","격처단":"Juggernaut Smite","대지강타":"Mountain Slam","사지절단":"Mutilation","오므아의꾸짖음":"Omua's Objurgation",
		"맹렬한난도질":"Savage Hack","내려찍기":"Strike Down","심장파괴":"Torso Ripper","각성격":"Juggernaut","정화의불꽃":"Cleansing Flame","용아귀":"Dragon's Maw",
		"혹한의화신":"Fireborne Rupture","검은피분출":"Black Blood Eruption","절규하는빛":"Howling Light","묵살":"Suppress","설풍":"Frigid Wind",
		"영광스러운거행":"Glorious Advance","멸신의불길":"God Incinerator","천주":"Infernal Nemesis","화신의발걸음":"Infernal Steps","자비없는발길":"Merciless Kick",
		"무자비한타":"Merciless Smash","효수":"Neck Impaler","오므아의영역":"Omua's Circle","오므아의불꽃":"Omua's Flame","산울림":"Rockslide","열상의가시":"Scalding Thorn",
		"가벼운능멸":"Scornful Slash","인탄하는이빨":"Searing Fang","관문부수기":"Gate Crasher"
	}
	const SKILL_NAMES_DRAKANIA = {
		//drakania
		"벼락불 작렬":"Brimbolt Strike","사르는 참격":"Blazing Strike","일반":"normal","최대 출력":"max ion output","마크타난의 손짓":"Markthanan's Flourish","숨통 꿰뚫기":"Eviscerate",
		"가르는 발톱":"Sundering Claw","승천":"Ascent","연쇄 베기":"Omnislash","마인":"Hexeblood","마룡":"Dragonblood","척결":"Obliterate","날카로운 선포":"Savage Decree",
		"대지를 가르는 포효":"Sundering Roar", 		"휘날리는 폭압":"Aerial Burst","파멸의 인도자":"Doombringer","허파 찌르기":"Skewer","섬뜩한 발톱":"Abyssal Fang",
		"벼락불 섬멸":"Brimbolt Annihilation","벼락불 휩쓸기":"Brimbolt Raze", 		"잔불":"Embers","마크타난의 영역":"Markthanan's Dominion","푸른맹습":"Azure Onslaught",
		"잔혹한응징":"Dragon's Maw","숨통가르기":"Asphyxiate","마크타난의발톱":"Markthanan's Claws","마크타난의숨결":"Markthanan's Breath","마크타난의비늘":"Markthanan's Scale",
		"솟구치는습격":"Soaring Assault","섬뜩한영역":"Abyssal Dominion","생명의종말":"Extinction","혼에사무친원한":"Spiteful Soul","격파의돌격":"Tectonic Slam","역린찌르기":"Tip of the Scale",
		"가르는불꽃":"Crackling Flame","용의습":"Dragon's Assault","꿰뚫는날개":"Eviscerating Wings","부름":"Fate Beckons","벼락불파동":"Brimbolt Wave","구름끊기":"Cloud's Strife",
		"비장의발톱":"Concealed Claw","꿰뚫는창":"Impale","유산선별":"Legacy","마크타난의송곳니":"Markthanan's Fang","잉걸불":"Cinders","솟구치는발톱":"Soaring Claw",
		"폭풍의습격":"Storm Maul","폭풍을꿰뚫는창":"Storm Piercer"
	}
	const SKILL_NAMES_SNS = {
		//warrior
		"황혼의 상처":"Scars of Dusk","지면 강타":"Ground Smash","지면 부수기":"Earth Tremor","수급 찌르기":"Severing Thrust","분쇄":"Pulverize","반격 태세":"Counter",
		"작열":"Solar Flare","압도":"Overwhelm","광기 부수기":"Frenzied Strikes","무자비":"Merciless","자루 강타":"Hilt Strike","무덤 가르기":"Grave Digging",
		"무모한 일격":"Reckless Blow","갑옷 부수기":"Armor Break","천공 가르기":"Heaven's Cleave","발목 깨기":"Ankle Break","무릎 차기":"Knee Kick","회전 가르기":"Spinning Slash",
		"울림의 강타":"Seismic Strike","황혼 가르기":"Dusk Slash","반격 가르기":"Counter Slash","망자 가르기":"Slashing the Dead","광기 바람":"Tempest","돌진 찌르기":"Charging Thrust",
		"찍어 차기":"Chopping Kick","지면 깊게 가르기":"Deep Ground Slash","깊게 찌르기":"Deep Thrust","전진 검술":"Forward Slash",
		//valkyrie
		"단죄의 검":"Sword of Judgement","빛의 심판":"Judgement of Light","거룩한 힘":"Divine Power","영광의 검":"Gladius Gloriae","거룩한 창":"Celestial Smite",
		"거룩한 일격":"Divine Slam", "정화의 방패":"Purificatione","신성 강타":"Sacrum Ferit","빛의 폭렬":"Lucem Fluxum","선고 : 정의의 랜시아":"Verdict: Lancia Iustitae",
		"엔슬라의 신성":"Sanctitas de Enslar","전격 찌르기":"Blitz Stab", "신성폭발":"Divina Inpulsa","신성한 대지":"Terra Sancta","방패 던지기":"Shield Throw",
		"반격태세":"Counter","천상의창":"Celestial Spear","섬광베기":"Glaring Slash","정의의반격":"Just Counter","징벌":"Punishment","빛가르기":"Severing Light",
		"날카로운빛":"Sharp Light","찬란한빛의돌":"Shining Dash","정의로운돌":"Righteous Charge","응징":"Castigatio","신성방출":"Divina Vult","회전하는방패":"Spinning Shield",
		"필사의돌":"Hastiludium","속결":"Promptness","빛의파동":"Wave of Light"
	}
	const SKILL_NAMES_TALISMAN = {
		//sage
		"신벌의 대리자":"Divine Executioner","불호령":"Judgement","섬광 돌파":"Impaling Flash","전력 투창":"Spear Bolt","역광의섬멸":"Radiant Annihilation",
		"번뇌하는 밀실":"Realm of Anguish","공간 파쇄":"Spatial Fissure","아토마기아":"Atomagia","아토르의 도장":"Ator's Mark","아토르의 기운":"Ator's Energy","대붕괴":"Spatial Collapse",
		"공허의 관문":"Void Gateways","차원 압축":"Dimensional Compression","교화하는 낙뢰":"Enlightening Bolt","아토르의응징":"Ator's Fist","아토르의가시":"Ator's Thorn",
		"허상압축":"Illusion Compression","균열의굴레":"Gravity Rift","허상전개":"Illusion Expansion","재현된응징":"Ator's Palm","아토르의비수":"Ator's Spear","잔류":"Shock Relay",
		"여죄추궁":"Interrogate","구전방류":"Rift Storm","전류사슬":"Chain Lightning","단죄하는뇌옥":"Lightning Prison","솟아오르는힘":"Upsurge","격뇌하는가시":"Energized Thorn",
		"추월":"Aftershock","형상질주":"Form Shift","번개쇄도":"Lightning Surge","관통하는가시":"Piercing Thorn","억류":"Seize","공허방출":"Void Blast","공허붕괴":"Void Eruption",
		//sorc
		"해방된 어둠":"Darkness Released","핏빛 재앙":"Bloody Calamity","어둠의 업화":"Dark Flame","심연의 불꽃":"Abyssal Flame","그림자 불꽃":"Shadow Ignition",
		"까마귀 재앙":"Crow Nightmare","덮쳐오는 어둠":"Engulfing Shadow","심연의 어둠":"Abyssal Blow","망자 사냥":"Dead Hunt","몽마":"Nightmare","진혼곡":"Requiem",
		"망자유린":"Violation","사악한 복수":"Vile Plan","영혼 절개":"Soul Reaper","사신의 심판":"Grim Reaper's Judgement","휘몰아치는어둠":"Swirling Darkness","카르티안의 악몽":"Cartian's Nightmare",
		"어둠의파도":"Black Wave","어둠의격":"Claws of Darkness","까마귀불꽃":"Crow Flare","멸망의꿈":"Dream of Doom","그림자표적":"Mark of the Shadow","긴밤지르기":"Midnight Stinger","그림자분출":"Shadow Eruption",
		"고통의표식":"Signs of Agony","카르티안의수호":"Cartian's Protection","까마귀재앙":"Crow Nightmare","어둠갈퀴":"Dark Tendrils","영혼수확":"Soul Harvest","그림자포획":"Turn-back Slash","까마귀날개":"Wings of the Crow",
		
	}
	const SKILL_NAMES_BOW = {
		//ranger
		"바람을 타는 깃":"Descending Current","길을 여는 바람":"Penetrating Wind","단명의 질풍":"Blasting Gust","바람길":"Squall Shot","광풍":"Tempest","정령의 분노":"Elven Rage",
		"덩굴매듭":"Vine Knot","재창조":"Regeneration","바람결에 스민 서슬":"Wind Blade","울림의 화살":"Roaring Arrow","돌차기":"Dash Kick",
		"바람모아쏘기":"Charging Wind","회피폭발사격":"Evasive Explosion Shot","초바람모아쏘기":"Extreme Charging Wind","약점노리기":"Pinpoint","우직한칼날바람":"Razor Wind","회전차기":"Round Kick",
		"숨을찢는화살":"Tearing Arrow","바람의의지":"Will of the Wind","옭아매는화살":"Binding Arrow","무정한칼날":"Cold Blade","반달차기":"Crescent Kick","수호의검":"Dagger of Protection",
		"회피착지사격":"Evasive Landing Shot","회피사격":"Evasive Shot","공중폭발사격":"Air Explosion Shot","선회하는바람":"Bypassing Wind","쇄도하는바람":"Rushing Wind","휘몰아치는화살":"Fury Arrow",
		"대자의전율":"Nature's Tremble","정령의속박":"Spirit's Shackles","숨을찢는질풍":"Tearing Shot","울부짖는바람":"Wailing Wind","바람결":"Breezy Blade","바람의윤무":"Waltz of Wind",
		//archer
		"빗발치는 화살":"Arrow Explosion","광휘의 폭발":"Radiant Explosion","빛의 인도 포함":"Light's Trail","만개하는 살":"Full Bloom","광원의 살":"Grand Bloom","실비아의 창":"Spear of Sylvia", 
		"루트라곤의 부름":"Luthraghon's Call","부름의 메아리 포함":"Echoes of the Call","낙인의 살":"Marked Bloom","활개":"Glissade","심판의 날개":"Winged Strike","유성우":"Meteor Dive", 
		"어둠 도려내기":"Gaping Darkness","그림자 찢기":"Shadow Hack","나뭇결 쏘기":"Verdure Clout","정령의 탄환":"Bolt of Radiance","몰아치는 화살":"Storm of Light","산들바람":"Mountain Breeze", 
		"뿌리 오름":"Uproot","소멸의 빛":"Righteous Smite","빛을 가르는 유성":"Piercing Light","돌풍":"Zephyr Leap","대지를 가르는 화살":"Earth Shatter","비상하는정령":"Ascending Spirit",
		"정령의비호":"Covering Fire","대지의발돋움":"Earth Kick","추락하는어둠":"Purging Shot","덩굴끊기":"Vine Cutter","날개차기":"Volant Kick","대지의근원":"Wrath of Nature",
		"흩뿌려지는비호":"Deadly Explosion","뿌리얽기":"Ensnare","밑둥차기":"Low Sweep","날카로운비명":"Piercing Cry","나뭇결얽기":"Radiant Ensnare","폭발하는화살비":"Radiant Storm",
		"그늘에감기는광휘":"Shadebound Beam","기회포착":"Tactical Strike","빛의소나기":"Sunfall"
	}
	const SKILL_NAMES_SHORTSWORD = {
		//ninja kuno
		"인술":"Ninjutsu","도깨비 베기":"Ghost Slash","참수":"Decapitation","살의연참":"Murderous Sever","수라난무":"Sura ChaoSpree","단명참":"Sudden Decapitation",
		"이룡등공":"Serpent Ascension", "일도양단":"Drastic Measure","음속폭음":"Mach Explosion","사형집행":"Execution","망자 참수":"Beheading the Dead", "월쇄":"Lunar Dash",
		"첨륜":"Chakram Rise","희연무":"Lethal Spin Spree","원무":"Pinwheel Fury","신인분격":"Wheel of Wrath","공분":"Indignation","요경탄":"Lunatic Discus", "발목베기":"Ankle Cutter",
		"살무":"Danse Macabre","월영비":"Penumbral Blade","난격 : 사하륜":"Chain Crash: Sah Chakram","바닥 쓸기":"Floor Sweeping","경탄추":"Delighted Blast", "그림자 분파":"Shadow Claw",
		"검은달빛":"Black Moonlight","회전칼날":"Blade Spin","수장암살":"Boss Slaughter","초승달베기":"Crescent Slash","타계낙하":"Death's Descent","급소찌르기":"Fatal Blow",
		"여우발톱":"Fox Claw","도깨비인사":"Ghost Greeting","지면꽂기":"Ground Thrust","심장노리기":"Heart Aiming","수리검던지기":"Kunai Throw","속박의덫":"Shackles",
		"그림자베기":"Shadow Slash","그림자밟기":"Shadow Stomp","표창탈주":"Shuriken Flight","표창살의":"Shuriken Malice","표창던지기":"Shuriken Throw","후려차기":"Throwing Kick",
		"바람베기":"Wind Slash","살검폭우":"Katana Shower","배덕의칼춤":"Corrupt Sword Dance","암행숨통긋기":"Covert Cut Throat","섬광포박":"Flash Bondage","내려차기":"Kick Down",
		"속박의허상":"Illusion of Restraint","수리검회피던지기":"Kunai Evasive Throw","수리검마비":"Kunai Paralysis","인술참수":"Decapitation","인술도깨비그림자":"Oni Shadow",
		"회피표창살의":"Evasive Shuriken Malice","적살폭우":"Red Rain","막":"Smokescreen","빈틈없는이음새":"Seamless","공베기":"Vacuum Slash","보복의빗장":"Vengeful Barrier",
		"자객의흔적":"Assassin's Trail","비장의칼날":"Tragic Blade","반월베기":"Half Moon Slash","광명추":"Halo","비수의인술":"Hidden Dagger Jutsu","희무":"Lethal Spin Spree",
		"그림자폭발":"Shadow Explosion","인술힘줄자르기":"Sinew Cut","소난사하무":"Sah Spree of Sonan","표창:구름달빛":"Shuriken: Moon Dive","도깨비발톱":"Ghost Claw",
		//tamer
		"섬광":"Flash","봉 찌르기":"Pole Thrust","자세 돌리기":"Stance Shift","벽력장":"Bolt Wave","사자후":"Roaring","발톱 올려치기":"Upward Claw","공간 벼락":"Void Lightning","즈려밟기":"Trample",
		"땅의 벼락":"Lightning of Earth","팔방 연환격":"Allround Spinner","공포의 고동":"Fearful Trembling","흑쇄장":"Dark Gaoler","붕격 찌르기":"Jolt Stab","신수의 발톱":"Legendary Beast's Claw",
		"사방신무":"Legendary Beast Dance","비상격":"Soaring Strike","공명":"Echo","월광타":"Moonlight Strike","섬광봉찌르기":"Flash Pole Thrust","섬광자세돌리기":"Flash Stance Shift",
		"속차기":"Flurry of Kicks","낙엽베기":"Leaf Slash","할퀴기":"Scratch","하늘차기":"Soaring Kick","뻗어차기":"Stretch Kick","밀려오는파도":"Surging Tide","숨통태우기":"Throat-Burn",
		"채찍휘두르기":"Whiplash","신수의난무":"Beast Rampage","구름밟기":"Cloud Stomping","공명찌르기":"Echo Pierce","회피공격":"Evasive Attack","승천":"Ascension","만월":"Full Moon",
		"엄포":"Intimidation","흑랑포효":"Heuklang Howling","밀려오는공포":"Horror Slam","흑랑소환":"Summon Heuklang","고동치는공간":"Resonance","비천":"Skybound Stab","하늘닿기":"Skyreach",
	}
	const SKILL_NAMES_KOREA = {
		//dosa
		"올려베기":"Rising Slash","두 번 가로 베기":"Twin Slash","겨울 소나기":"Winter Squall","가을 벼락":"Autumnal Blitz","태극":"Taeguk","사계":"Four Seasons",
		"오행 : 상생":"Elements:Generate","나무":"Wood","굽음":"Bend","흙":"Earth","심음":"Till","엮음":"Weave","곧음":"Stake","거둠":"Reap","쇠 : 따름":"Metal: Pour",
		"빈틈베기":"Airy Piercer","도무":"Blade Waltz","구름장막":"Cloud Shield","구름두르기":"Cloudveil","농무":"Deep Haze","내려베기":"Downpour","장님베기":"Blinding Slash",
		"안개가르기":"Fog Cleave","안개꽃":"Fogbloom","봄서리":"Spring Frost","여름바람":"Summer Breeze","끝베기":"Final Slash","다시올려베기":"Ricochet","그늘베기":"Shade Slash",
		"불오름":"Fire Blaze","불터짐":"Fire Burst","불번짐":"Fire Spread","선검농무":"Enlightened Haze","베일구름":"Velum Slash","방벌":"Virga Shaft","내려앉는안개":"Fogfall",
		"쇠모음":"Metal Alloy","쇠:서늘":"Metal Temper",
		//maegu
		"황천걸음":"Hazy Path","여우달음":"Foxflare Charge","나빌레라":"Foxflare Ambush","폭렬의 춤사위":"Emberclaw Finale","마파람사위":"Twirling Retreat","천도의 춤":"Heavenward Dance",
		"초롱불":"Bristling Sparks","화구":"Foxflare","꽃놀이패":"Petal Play","귀신회오리":"Spirit Swirl","여우신령:강림":"Foxspirit: Phantom","여우풀이":"Emberclaw Torrent",
		"으름":"Emberclaw Slash","칼바람":"Emberclaw Sweep","피어오름":"Emberclaw Crush","발톱빗":"Bared Claws","급살":"Charmed","꽃자욱":"Flower Shroud","여우신령:놀음":"Foxspirit Tag",
		"신령던지기":"Ghost Bomb","발톱긋기":"Lurking Claws","기만하는덫":"Petalblast","섬돌뚫기":"Soul Tear","타오르는령":"Soulflame","속박하는령":"Soulsnare","혼비백산":"Spirited Away",
		"맴체":"Twirling Rhapsody","꽃봉오리":"Constricting Charm","도리깨연풍":"Twirling Foxflare","발따귀":"Fan Kick","노대바람":"Foxflare Encore","한풀이":"Hanpuri","삼도천":"Nether River",
		"앞발찢기":"Foxflare Cleave","인중치기":"Foxflare Fleche","여우침":"Foxflare Fling","꾸지람":"Foxflare Stroke","귀천":"Heavenly Return","꽃놀이덫":"Petal Snare","화선":"Prime Fan of Flames",
		"넋두리":"Nukduri Dance","혼백의부":"Soul Charm","굴레":"Spirit Parade","귀신불":"Spirit Sparks",
		//woosa
		"떨어지거라":"Bloom Deluge","스쳐가는 영":"Soul Cleanse","달의 노래":"Mark of the Moon","피어오르리":"Bloomburst","만개하리":"Bloom","추수":"Life Lure",
		"파종":"Seocheon Field","꽃부름":"Blooming Death","꽃물림":"Soul Shower","사희 강림":"Sahee's Descent","게섯거라":"Soul Shock","천도":"Death's Proclamation",
		"휘영청 떠오른 달":"Moonlit Blast","꽃놀이":"Perilous Waltz","죽편":"Bamboo-zled","구름꽃":"Cloud Flower","구렁나비":"Cloudcarve","먹구름":"Cloudrise",
		"발따귀":"Fan Kick","밑둥가르기":"Fandown","곁차기":"Flutter Kick","나비돌개":"Kaleidoscope Swirl","호통치기":"Pummel","죽":"Bamboo","국":"Chrysanth",
		"난":"Orchid","매":"Plum","고요한습격":"Silent Strike","밀치기":"Stave Strike","소낙비":"Stormfall","묵뢰":"Thunderstroke","싹쓸바람":"Wingbeat",
		"삭풍":"Chrysanth Swirl","풍뢰":"Cloudburst","지나치는영":"Nether Blast","옆차기":"Netherstrike","낙뢰":"Stormbolt","물결구름":"Inkstroke",
		"나비둥지":"Kaleidoscope Flower","나비뿌리":"Flurry","나비호령":"Inkwrath","마파람":"Thundercall","범나비":"Tigerfly",

		"물":"Water"
	}
	const SKILL_NAMES_HANDS = {
		//zerker
		"포식자의 사냥":"Predatory Hunt","몰아치는 벼락":"Raging Thunder","고대의 파동":"Ancient Wave","거암":"Time to Rock","야수의 벼락":"Feral Rage","파괴의 도끼":"Axe of Destruction",
		"울부짖는 야수":"Wailing Beast","광포한 바람":"Frenzied Winds","광분의 군림자":"Frenzied Tyrant","황폐화":"Devastation","거신의 일격":"Titan Blow","땅울음":"Seismic Blast","난타":"Slugfest",
		"분열포":"Split Shot","대지 파괴":"Earth Dividing","거신의 발걸음":"Titan Step","공포의 군림자":"Fearsome Tyrant","야수의외침":"Beast Roar","날짐승바람가르기":"Beastly Wind Slash",
		"시체휘몰아치기":"Corpse Storm","힘의탄력":"Elastic Force","맹렬한공격":"Fierce Strike","광분의파괴자":"Frenzied Destroyer","박치기":"Headbutt","야수의격노":"Ire of Beast",
		"바위들어메치기":"Rock Smash","찍어메치기":"Smack Down","맹수의습격":"Storming Beast","바위밀치기":"Tackling Rock","시체운반자":"Undertaker","약자사냥":"Weakling Hunt",
		"야수의노":"Wrath of Beast","폭쇄":"Blasting","낙하하는바위":"Falling Rock","화염철포":"Flame Buster","화염쇄":"Flame Pummel","고대의힘":"Ancient Power","파열포":"Scatter Shot",
		"기동사격":"Shooting Mobility","폭풍가르기":"Windstorm","지면들어올리기":"Ground Lifting","용암뚫기":"Lava Piercer","분노의동":"Quaking Fury","뿌리박기":"Rooting","뿌리치기":"Shake Off",
		//striker mystic
		"도끼 찍기":"Skull Crusher","굶주린 맹수":"Rampaging Predator","먹이뜯기":"Bite Off","낙진":"Fallout","나락붕괴":"Infernal Destruction","흉포한 이빨":"Savage Fang",
		"폭렬 강타":"Explosive Blow","폭잠":"Bombardment", "진격권":"Strikethrough","돌개 바람":"Hurricane","기와 깨기":"Fatal Smash","태백차기":"Taebaek Kick",
		"혼신의 일격":"Final Blow","산사태":"Landslide","초열":"Death Clout","칠진각":"Soul Basher","드러낸 발톱":"Hidden Claw","권무":"Fist Fury","진공 회축":"Tornado Kick",
		"나락 붕추":"Sweeping Kick","호포":"Roaring Tiger","등각":"Somersault","비상각":"Scissor Kick","거대한 진노":"Rage Hammer","수장":"Sea Burial","파공":"Wave Orb",
		"태풍 차기":"Hurricane Kick","무간":"Splinter Thud","염옥":"Bolster Thump","금":"Adamantine","호미걸이":"Ankle Hook","붉은송곳니":"Crimson Fang","폭렬타":"Explosive Blow",
		"공타":"Fist of True Strength","무릎망치":"Knee Hammer","역사":"Martial Deva","초전박살":"Mass Destruction","묵직한압박":"Massive Suppression","거대한노":"Rage Hammer",
		"바위깨기":"Rock Smash","경파산":"Stalking Wolf","삼각":"Triple Flying Kick","마루오름":"Twisted Collision","낭아신장":"Wolf's Fang","아랑포식":"Wolf's Hunger",
		"투신의함성":"Battle Cry","계독니":"Venom Fang","복혼분신":"Echo Spirit","거침없는분투":"Endless Fight","맹포한습격":"Ferocious Assault","맞바람":"Crosswind",
		"숨통끊기":"Deathstrike","깃털구름":"Nimbus Strike","먹이사냥":"Prey Hunt","권무타":"Iron Fist Fury","공권":"Perfect Blow","낭아승천":"Rising Wolf Fang",
		"용등각":"Savage Somersault","나선탄":"Spiral Cannon","회심권":"Ultimate Crush","초호장":"Thunder Pound","속박":"Binding Knee Strike","용권타":"Dragon Strike",
		"감룡의늪":"Dragon's Pit","감룡의눈":"Dragon's Rip","낙화":"Sky Rammer","소용돌이":"Hurricane Sweep","금주":"Infinite Fortitude","급류":"Rapid Stream","기상":"Rising Dragon",
		"창파각":"Spiral Torpedo","창뢰":"Tidal Burst","광활한노":"Unbridled Wrath","아랑유운":"Wolf's Frenzy","추풍낙엽":"Autumn Blaze","폭렬연타":"Endless Explosion",
		"지천각":"Gushing Waters","열풍":"Raging Wind","용권강타":"Dragon Strike","지천붕괴":"Earth Splitter",
	}
	const SKILL_NAMES_BLADERS = {
		//musa maehwa
		"무사의기백":"Musa's Resolve","격참":"Twister","연환격":"Spinner","파천":"Backflow","검기 효과":"Blade Effect","용염진":"Crust Crusher","화풍":"Low Blow","화선풍":"Pyrostorm",
		"역퇴참":"One Step Back","염환참":"Inferno Slash","척사":"Eradicate","격풍":"Gale","가름":"Divider","용오름 : 화":"Rising Storm: Blaze","역극":"Dragon Bite",
		"진역참":"Dragon Claw","단월":"Lunar Slash","장님 찌르기":"Blind Thrust","옹추 가르기":"Nemesis Slash","굽이치는 바람":"Pouncing Dragon","폭풍참":"Storm Slash",
		"격풍참":"Gale Slash","붉은바람":"Crimson Gust","선풍참수":"Decapitating Cyclone","역참수":"Decapitating Dragon","흩날리는 꽃잎":"Blooming Stride",
		"다가서는 발걸음":"Blooming Step","낙화 베기":"Razorblade Corolla","눈꽃덩이":"Petal Swirl","붉은 달":"Red Moon","장님 가르기":"Blind Slash","각수":"Carver",
		"개화":"Blooming","참수":"Decapitation","집요한 창날":"Tenacious Edge","서릿불꽃":"Petal Drill","달오름":"Moonrise","구름 찌르기":"Cloud Stab","눈꽃덩이":"Petal Swirl",
		"압제":"Oppression","서리꽃":"Frostflower","서릿발":"Frost Pillars","화월만개":"Petal Bloom", "빙산의 일각":"Tip of an Iceberg","본검":"Slice","후퇴베기":"Backstep Slash",
		"끊어차기":"Blunt Kick","특편전":"Charged Stub Arrow","파훼":"Retaliation","돌아차기":"Roundhouse Kick","깎아차기":"Sweep Kick","오름차기":"Upper Kick","돌개베기":"Whirlwind Cut",
		"이리오너라":"Arrow Grapple","개화곡두":"Blooming Phantom","반환참":"Counter Assassination","횡참":"Crosscut","본검파":"Deep Slice","초열보":"Flame Rush","첨극":"Double Down",
		"파쇄":"Projection","돌개의살":"Quick Shot","파훼참수":"Retaliation Decapitation","도가르기":"Searing Slam","용오름화":"Rising Storm Blaze","광풍참":"Steel Gale",
		"편전정":"Stub Arrow Double Shot","편전회피사격":"Stub Arrow Evasive Shot","돌개베기선풍":"Whirlwind Cut Cyclone",
	}
	const SKILL_NAMES_WESTERN = {
		//scholar
		"중력장":"Gravity Field","장타":"Home Run","위치에너지":"Potential Energy","한계 돌파":"Hammer Smash","걷잡을수없는힘":"Infinite Power","풍차돌리기":"Hammer Spin","전율의 두드림":"Hammerfall",
		"황금장벽":"Golden Blockade","황금 가시":"Golden Thorns","황금파도":"Golden Wave","황금 폭격":"Golden Skyfall","인력생성":"Attraction","두발차기":"Drop Kick","중력핵설치":"Gravity Anchor",
		"신의무게추":"Gravity Press","올려찍기":"Hammer in the Knee","걷어치기":"Hammer Punch","투구부수기":"Hammer Strike","망치던지기":"Hammer Throw","뛰어찍기":"Hammerdown","가벼운도약":"One Small Step",
		"융합중력핵":"Core Fusion","본한계돌파":"Hammer Smash","본풍차돌리기":"Hammer Spin","본전율의두드림":"Hammerfall","역중력도약":"One Giant Leap","황금의쇄":"Gold Continuum",
		"황금방벽":"Golden Barrier","황금길":"Golden Path","황금기둥":"Golden Pillar","황금천둥":"Golden Thunder","황금궤적":"Golden Trajectory","황금덩굴":"Golden Vines","중력폭격":"Gravity Storm",
		"중력제어":"Gravity Crush","중력굴절":"Gravity Distortion","재빠른돌":"Gravity Rush","윽박지르기":"Gravity's Grip",
		//deadeye
		"연사":"Double Trouble","석양을 꿰뚫는 일격":"Sunset Piercer","풍차걸음":"Dust Devil","기폭":"Kaboom","피바람":"Bulletstorm","덮쳐오는죽음":"Doom 'N Gloom","엄폐사격":"Drop Cover",
		"회피사격":"Evasive Fire","총잡이나가신다":"Gunslinger's Entrance","펼쳐지는죽음":"Hell's Spread","가득한고통":"Max Pain","난장판":"Mayhem","미소짓는기만":"Ol' Switcheroo",
		"리볼버사격술":"Revolver Mastery","기동사격":"Run 'N Gun","별빛축포":"Star-Spangled Barrage","개척자":"Trailblaze","파괴의미학":"Beautiful Demolition",
		"공중폭격":"Bombs Burstin' in Air","정밀사격":"Dead Eye Shot","뜨거운숨결":"Dragon's Breath","풍차걸음기폭":"Dust Devil Kaboom","후방기동포격":"Evasive Maneuver",
		"신속사격":"Final Draw","정조준":"Bullseye","숨겨카드":"Pocket Ace","쇠몽둥이":"Iron Blackjack","창공을수놓는포성":"Light Up the Sky","폭발도약":"Reach for the Sky",
		"떨어지는죽음":"Rainin' Bullets","제압사격":"Suppressing Fire","속사":"Quick Draw"
	}
	const SKILL_NAMES_ELE = {

		//hash
		"낙명의 모래시계":"Hourglass of Death","아알의 영역":"Aal's Dominion","참살":"Purge","모래 긋기":"Sand Slicer","능선 베기":"Ridge Reaver","부름받든 칼날":"Chosen Blade",
		"유사":"Quicksand","사도강림":"Descent","계시의 칼날":"Prophecy Blade","영역 가르기":"Dominion Slash","사도 습격":"Mirage Assault","추궁의 칼날":"Inquisition",
		"사구베기":"Dune Slash","고요한 틈":"Silent Breach","포박하는 모래늪":"Ensnaring Sands","뱀의 똬리":"Serpent's Coil","교화":"Retribution","낙원의 쇄도":"Paradise Surge",
		"추락 붕괴":"Collapse","죄악을 가르는 칼날":"Sin Splitter","찌르는 독니":"Piercing Fang","아알의숨결":"Aal's Breath","아알의덫":"Aal's Mirage","사도림":"Descent","금계습격":"Haladie Assault",
		"꿰뚫는칼날돌개":"Piercing Tornado","할단":"Rupture","사금가르기":"Sand Divider","그림자절단":"Shadow Splitter","사곡도수련":"Shamshir Training","꼬리베기":"Tail Cutter","정수리차기":"Crown Kick",
		"뱀의덫":"Constriction","모래감옥":"Sand Prison","폭식":"Voracity","나선포박":"Binding Spirals","모래돌개":"Sand Tornado","그림자긋기":"Shadow Slicer","사구무너뜨리기":"Dune Strike",
		"단죄":"Condemnation",
		//lahn
		"대지의 상처":"Earthly Pain","강림":"Tailspin","악격":"Vice","신월무":"Blood Moon Twist","불귀":"Eradication","종말의 발걸음":"Taunting Death","죽음의무도":"Deadly Dance",
		"광란":"Furor","꿰뚫는 심장":"Bleeding Hearts","주마등":"Dancing with Death","선홍검무":"Blade Dance","갈귀":"Berated Ghost","피어나는 지화":"Blooming Nether Flower","석곡":"Catasetum",
		"어르기":"Coax","난원격":"Crescent Barrage","일경구화":"Cymbidium","억제":"Deadly Restraint","절연":"Dismemberment","강신무":"Ethereal Dance","파봉안":"Eye of the Phoenix ","백로":"White Heron",
		"향의낙인":"Fragrant Stigma","추도":"Furious Chase","반월무":"Moondance","횡월추":"Pendulum Cleaver","탄각추":"Pendulum Kick","신무":"Sacred Dance","살풀이":"Salp'uri Purge",
		"혼백날림":"Soul Ascent","선홍점창":"Blade of Blood","사슬바퀴":"Flailing Blades","절삭":"Mangler","악격":"Vice","향의낙인":"Fragrant Stigma","봄바람":"Spring Breeze","종말의발걸음":"Taunting Death",
		//sair
		"범람":"Overflow","너울의 입맞춤":"Tide's Kiss","몰아치는 풍파":"Storming Gale","폭풍해일":"Storm Surge","변덕쟁이 파랑":"Ocean Melancholy","너울치기":"Ocean's Pearl",
		"쏟아지는 파도":"Wipe Out","고래의 꿈":"Whale Song","경쾌한 물보라":"Spiral Soak","항로비틀기":"Whirling Slash","몰아치는 패기":"Vigor Rush","물결치는 너울":"Rising Whirlpool",
		"너울 일으키기":"Wave Blast","낭만고래":"Spiral of Dreams","백병전":"Close Quarters", "제압":"Suppress","선장 출격":"Spare No Quarter!","소살":"Patraca","태양을 가리는":"Sun-shielder",
		"까마귀의 표적":"Crow's Mark","선장의 명령 : 개시":"Cap'n's Orders: Open Fire!","대지를 가르는":"Earth-render","바람을 누비는":"Wind-piercer","돌진":"Charge","말려드는 와류":"Entangling Vortex",
		"낭만유영":"Sea Stroll","너울구슬":"Pearl Blast","풍파":"Squall",
	}
	const SKILL_NAMES_SPELLBLADE = {
		//nova
		"눈위에내린서리":"Rime Ice","마주하는어둠":"Face the Darkness","매서운호령":"Bitter Reign","크라툼의 상승":"Quoratum's Ascension","얼어붙는 대지":"Frozen Earth",
		"격돌하는 기병":"Stamma's Mate","옭아매는 얼음가시":"Entangling Icy Thorns","덮치는 고리":"Swooping Ring","얼음덩굴":"Frozen Chain","매서운 샛별":"Bitter Star",
		"크라툼의 대지":"Quoratum's Earth", 		"몰아치는 사제":"Fianchetto","혹한의 어둠":"Frozen Darkness","몰아치는 샛별":"Storming Star","형벌":"Affliction",
		"여제의 징벌":"Queen's Gambit","쏟아지는 별조각":"Starfall","덩굴가름":"Chain Strike","병탄할표적":"Countergambit","흘러가는샛별":"Flowing Star","왕실검술":"Royal Fencing Attack",
		"빙판의입맞춤":"Icy Kiss","한빙의감옥":"Icy Prison","응징의올가미":"Punishing Trap","얼어붙는고리":"Frozen Ring","왕실검술속":"Royal Fencing Fleche",
		"왕실검술연":"Royal Fencing Remise","성릉":"Star's Call","별의고리":"Star's Ring","엇갈린궤도":"Twisted Orbit","잔혹한고리":"Brutal Ring","혜성":"Comet",
		"피어오르는얼음가시":"Blooming Icy Thorns","얼어붙은어둠":"Enter the Darkness","당겨가르는샛별":"Mauling Star","크라툼의가시":"Quoratum's Closing",
		"왕실검술반":"Royal Fencing Riposte","베어내는고리":"Slicing Ring","보복하는샛별":"Vengeful Star","얼음가시":"Icy Thorns",
		//dk
		"재앙의 씨앗":"Seed of Catastrophe","공습":"Air Strike","타락하는대지":"Corrupt Ground","솟구치는어둠":"Darkness Burst","집행":"Enforcement","할퀴는광기":"Ravage Rake",
		"비장의무기":"Hidden Strike","카마실비아의참":"Kamasylvia Slash","베디르의광기":"Lunacy of Vedir","야상곡":"Nocturne","칠흑의잿더미":"Obsidian Ashes","스며드는어둠":"Pervasive Darkness",
		"암흑탄":"Shadow Bullet","기울어진균형":"Slanted Balance","드러난비수":"Unveiled Dagger","운명의수레바퀴":"Wheel of Fortune","피어나는검은장미":"Blooming Black Rose","어스름":"Dusk",
		"빗발치는절망":"Cluster of Despair","폭격":"Bombardment","뿌리내린재앙":"Root of Catastrophe","정령산화":"Spirit Blaze","처형":"Termination","환영의틈":"Hallucination Gap",
		"원한의손아귀":"Grip of Grudge","오만한":"Imperious Command","칠흑의산화":"Obsidian Blaze","환영의덫":"Phantasmal Snare","정령의유산":"Spirit Legacy","황혼의질주":"Twilight Dash",
		"암흑탄공":"Shadow Bullet Air","광기의잿더미":"Shadow Strike","비산하는어둠":"Shattering Darkness","자욱한무":"Smoky Haze","낚아챈영혼":"Soul Snatch","정령사냥":"Spirit Hunt",
		"착취의손길":"Touch of Exploitation","베디르의함정":"Trap of Vedir","가시쐐기":"Stinger","운명의비수":"Unveiled Fate","베디르의독선":"Vedir's Dogma","베디르의대지":"Wrath of Vedir",
	}
	const SKILL_NAMES_GENERAL = {
		//shai
		"내팽개치기":"Eat This!","숲의파동":"Forest's Echo","저리가":"Go Away","가랏!":"Go!","폴짝셋":"Hop-Three","빠르게둘":"Kwik-Two","하나둘셋":"One-Two-Three",
		"태양의분노":"Sun's Fury","핑그르르":"Twirl","넘어져라얍!":"Tumble Wumble!","핑그르르팡!":"Twirl-Boom!","핑그르르셋":"Twirl-Three",
		
		//general
		"진":"Absolute","극":"Ultimate","강":"Prime","전승":"Succession","흑정령":"Black Spirit","흐름":"Flow","연":"Chain","포함":"included",
		"마레카":"Mareca","환란":"Chaos","명령":"Command","초":"Extreme","사군자":"Sagoonja","본":"Core","가속":"Accel",
	}
	const CLASS_MAPPING = {
		"Drakania":SKILL_NAMES_DRAKANIA,
		"Guardian":SKILL_NAMES_GUARDIAN,
		"Hashashin":SKILL_NAMES_ELE,
		"Corsair":SKILL_NAMES_ELE,
		"Lahn":SKILL_NAMES_ELE,
		"Sage":SKILL_NAMES_TALISMAN,
		"Wizard":SKILL_NAMES_STAFF,
		"Witch":SKILL_NAMES_STAFF,
		"Sorceress":SKILL_NAMES_TALISMAN,
		"Ranger":SKILL_NAMES_BOW,
		"Archer":SKILL_NAMES_BOW,
		"Valkyrie":SKILL_NAMES_SNS,
		"Warrior":SKILL_NAMES_SNS,
		"Ninja":SKILL_NAMES_SHORTSWORD,
		"Kunoichi":SKILL_NAMES_SHORTSWORD,
		"Tamer":SKILL_NAMES_SHORTSWORD,
		"Maegu":SKILL_NAMES_KOREA,
		"Dosa":SKILL_NAMES_KOREA,
		"Berserker":SKILL_NAMES_HANDS,
		"Striker":SKILL_NAMES_HANDS,
		"Mystic":SKILL_NAMES_HANDS,
		"Musa":SKILL_NAMES_BLADERS,
		"Maehwa":SKILL_NAMES_BLADERS,
		"Nova":SKILL_NAMES_SPELLBLADE,
		"Dark Knight":SKILL_NAMES_SPELLBLADE,
		"Deadeye":SKILL_NAMES_WESTERN,
		"Scholar":SKILL_NAMES_WESTERN,
		"Woosa":SKILL_NAMES_KOREA
	}
	
const JOB_NAMES_KR = {
		"워리어":"Warrior",
		"레인저":"Ranger",
		"소서러":"Sorceress",
		"자이언트":"Berserker",
		"금수랑":"Tamer",
		"무사":"Musa",
		"매화":"Maehwa",
		"발키리":"Valkyrie",
		"쿠노이치":"Kunoichi",
		"닌자":"Ninja",
		"위자드":"Wizard",
		"위치":"Witch",
		"다크나이트":"Dark Knight",
		"격투가":"Striker",
		"미스틱":"Mystic",
		"란":"Lahn",
		"아처":"Archer",
		"샤이":"Shai",
		"가디언":"Guardian",
		"하사신":"Hashashin",
		"노바":"Nova",
		"세이지":"Sage",
		"커세어":"Corsair",
		"드라카니아":"Drakania",
		"우사":"Woosa",
		"매구":"Maegu",
		"스칼라":"Scholar",
		"도사":"Dosa",
		"데드아이":"Deadeye"
	}
function translateSkillName(str,classname){
	str=str.replaceAll(" ","");
	for (const [key, value] of Object.entries(CLASS_MAPPING[classname])) {
		while(str.includes(key.replaceAll(" ",""))){
			str = str.replace(key.replaceAll(" ",""), " "+value+" ");
		}
	}
	for (const [key, value] of Object.entries(SKILL_NAMES_GENERAL)) {
		while(str.includes(key.replaceAll(" ",""))){
			str = str.replace(key.replaceAll(" ",""), " "+value+" ");
		}
	}
	return str;
}
var currentJob = "";
var isEN = false;
readFile = function(file) {
	return new Promise((resolve, reject) => {
		const reader = new FileReader();
		reader.onload = (event) => {
			resolve(event.target.result);
		};
		reader.onerror = (event) => {
			reject(event.target.error);
		};
		reader.readAsText(file);
	});
};
getJobnamesInHtml = function(html){
	let ret = [];
	let parser = new DOMParser();
	let doc = parser.parseFromString(html, 'text/html');
	isEN = doc.querySelector('title').innerHTML.includes("Patch Notes");
	let namesandtables = doc.querySelectorAll('table,.char_name'); //every table in the page
	for(let i=0; i<namesandtables.length; i++){
		let rows = namesandtables[i].getElementsByTagName('tr');
		if(namesandtables[i].className=="char_name"){
			let name = translateKRtoEN(namesandtables[i].innerHTML);
			if(!name.includes("Template")){
				if(i<namesandtables.length-1){
					if(typeof namesandtables[i+1]==='string'||namesandtables[i+1] instanceof String){

					}
					else{
						ret.push(name);
					}
				}
			}
		}
		else if(rows[0].cells.length===3&&rows.length>2){
			if(rows[1].cells[1].innerHTML.includes("PvP")){
				ret.push(namesandtables[i]);
			}
		}
	}
	return ret;
}
getTitleInHtml = function(html){
	let parser = new DOMParser();
	let doc = parser.parseFromString(html, 'text/html');
	const monthNames = ["January","February","March","April","May","June","July","August","September","October","November","December"];

	try{
		let ret = doc.getElementsByClassName('detail_top_title')[0].innerHTML;
		let yr = doc.getElementsByClassName('info_item date')[0].innerHTML;
		yr = yr.substring(yr.search(/[0-9]{4}/),yr.search(/[0-9]{4}/)+4);
				if(ret.includes("월")){
			let month = ret.substring(0,ret.indexOf("월"));
			let date = ret.substring(ret.indexOf("월")+2,ret.indexOf("일"));
			ret = "Global Labs Patch Notes - "+monthNames[month-1]+" "+date+" "+yr;
		}
		return ret;
	}catch(e){
		let ret = doc.getElementsByClassName('title')[0].innerHTML;
		let yr = doc.getElementsByClassName('date')[0].innerHTML;
		if(ret.includes("Patch Notes")){
			return "NAEU "+ret;
		}
		else{
				let month = yr.substring(yr.search(/\.[0-9]{2}\./g)+1,yr.search(/\.[0-9]{2}\./g)+3);
				let date = yr.substring(yr.search(/\.[0-9]{2}\./g)+4,yr.search(/\.[0-9]{2}\./g)+6);
				yr = yr.substring(0,ret.search(/[0-9]{4}\./g)+5);
				ret = "KR Patch Notes - "+monthNames[month-1]+" "+date+" "+yr;
				return ret;
		}
	}
}
translateKRtoEN = function(str){
	if(isEN){
		return str;
	}
	for (const [key, value] of Object.entries(JOB_NAMES_KR)) {
		if(str.includes(key)){
			return value;
		}
	}
	return str;
};
if(typeof String.prototype.replaceAll === "undefined") {
    String.prototype.replaceAll = function(match, replace) {
       return this.replace(new RegExp(match, 'g'), () => replace);
    }
}
function convertRow(tr){
	let row = tr.getElementsByTagName('td');
	let rowData = [];

	for (let k=0; k < row.length; k++) {
		
		if(row.length == 2){
			
			let beforedamages = [];
			let afterdamages = [];
			let beforepenalties= [];
			let afterpenalties= [];
			
			if(row[0].innerText.includes("PvP")){
				row[0].innerText = translateKRtoEN(row[0].innerText);
				let beforestring = row[0].innerText;
				beforestring = beforestring.replaceAll(/\+([0-9]{2})%/g, "");
				let afterstring = row[1].innerText;
				afterstring = afterstring.replaceAll(/\+([0-9]{2})%/g, "");
				let dmgre = /[0-9]{3,5}%/g;
				let penre = /\s([0-9]{1,2})\.[0-9]{1}%/g;
				if(isEN){
					penre = /-([0-9]{1,2})\.[0-9]{1}%/g;
				}
				while(beforestring.search(dmgre)>-1||beforestring.search(penre)>-1){
					let percentindex = beforestring.indexOf('%');
					if((beforestring.search(dmgre)>-1&&beforestring.search(penre)>-1)&&beforestring.search(dmgre)<beforestring.search(penre)){ //there should always be a penre at here
						beforedamages.push(parseInt(beforestring.substring(beforestring.search(/([0-9]{3,5})/),percentindex)));
					}
					else if(beforestring.search(penre)>-1){
						beforepenalties.push((100-parseFloat(beforestring.substring(beforestring.search(penre)+1,percentindex)))/100)
					}
					beforestring = beforestring.substring(percentindex+1);
				}
				
				while(afterstring.search(dmgre)>-1||afterstring.search(penre)>-1){
					let percentindex = afterstring.indexOf('%');
					if((afterstring.search(dmgre)>-1&&afterstring.search(penre)>-1)&&afterstring.search(dmgre)<afterstring.search(penre)){ //there should always be a penre at here
						afterdamages.push(parseInt(afterstring.substring(afterstring.search(/([0-9]{3,5})/),percentindex)));
					}
					else if(afterstring.search(penre)>-1){
						afterpenalties.push((100-parseFloat(afterstring.substring(afterstring.search(penre)+1,percentindex)))/100)
					}
					afterstring = afterstring.substring(percentindex+1);
				}
			
				//populate penalty arrays if there are more damage numbers than penalty numbers

				while(beforepenalties.length<beforedamages.length){
					beforepenalties.push(beforepenalties[0]);
				}
				while(afterpenalties.length<afterdamages.length){
					afterpenalties.push(afterpenalties[0]);
				}

			let cell2 = "";
			for(i in beforedamages){
				cell2 += parseInt(beforedamages[i] * beforepenalties[i]);
				cell2 += "%"
				cell2+="<div id='or'>"+beforedamages[i]+"% in PvE</div>"
			}
			let cell3 = "";
			for(i in afterdamages){
				cell3 += parseInt(afterdamages[i] * afterpenalties[i]);
				cell3 += "%"
				cell3+="<div id='or'>"+afterdamages[i]+"% in PvE</div>"
			}
			if(beforedamages.length==0&&afterdamages.length==0){ //populate damage array if there's a pvp penalty number and no damage number
				beforedamages.push(1000);
				afterdamages.push(1000);
			}
			let cell4 = 0;
			let cell5 = 0;
			cell4 = 100*(afterdamages[0] * afterpenalties[0])/(beforedamages[0] * beforepenalties[0])-100;
			cell4 = parseInt(100*cell4)/100;
			cell5 = 100*afterdamages[0]/beforedamages[0]-100;
			cell5 = parseInt(100*cell5)/100;
			rowData.push("");
			rowData.push(cell2);
			rowData.push(cell3);
			rowData.push(cell4+"%");
			rowData.push(cell5+"%");
			}
			else{
				rowData.push(row[k].innerText);
			}
		}else{
			let beforedamages = [];
			let afterdamages = [];
			let beforepenalties= [];
			let afterpenalties= [];
				if(row.length>2){
			if(row[1].innerText.includes("PvP")||row[2].innerText.includes("PvP")){
				row[0].innerText = translateKRtoEN(row[0].innerText);
				let beforestring = row[1].innerText;
				beforestring = beforestring.replaceAll(/\+([0-9]{2})%/g, "");
				let afterstring = row[2].innerText;
				afterstring = afterstring.replaceAll(/\+([0-9]{2})%/g, "");
				let dmgre = /[0-9]{3,5}%/g;
				let penre = /\s([0-9]{1,2})(\.[0-9]{1}){0,1}%/g;
				if(isEN){
					penre = /-([0-9]{1,2})(\.[0-9]{1}){0,1}%/g;
				}
				while(beforestring.search(dmgre)>-1||beforestring.search(penre)>-1){
					let percentindex = beforestring.indexOf('%');
					if((beforestring.search(dmgre)>-1&&beforestring.search(penre)>-1)&&beforestring.search(dmgre)<beforestring.search(penre)){ //there should always be a penre at here
						beforedamages.push(parseInt(beforestring.substring(beforestring.search(/([0-9]{3,5})/),percentindex)));
					}
					else if(beforestring.search(penre)>-1){
						beforepenalties.push((100-parseFloat(beforestring.substring(beforestring.search(penre)+1,percentindex)))/100)
					}
					beforestring = beforestring.substring(percentindex+1);
				}
				
				while(afterstring.search(dmgre)>-1||afterstring.search(penre)>-1){
					let percentindex = afterstring.indexOf('%');
					if((afterstring.search(dmgre)>-1&&afterstring.search(penre)>-1)&&afterstring.search(dmgre)<afterstring.search(penre)){ //there should always be a penre at here
						afterdamages.push(parseInt(afterstring.substring(afterstring.search(/([0-9]{3,5})/),percentindex)));
					}
					else if(afterstring.search(penre)>-1){
						afterpenalties.push((100-parseFloat(afterstring.substring(afterstring.search(penre)+1,percentindex)))/100)
					}
					afterstring = afterstring.substring(percentindex+1);
				}
			
				//populate penalty arrays if there are more damage numbers than penalty numbers

				while(beforepenalties.length<beforedamages.length){
					beforepenalties.push(beforepenalties[0]);
				}
				while(afterpenalties.length<afterdamages.length){
					afterpenalties.push(afterpenalties[0]);
				}

			let cell2 = "";
			for(i in beforedamages){
				cell2 += parseInt(beforedamages[i] * beforepenalties[i]);
				cell2 += "%"
				cell2+="<div id='or'>"+beforedamages[i]+"% in PvE</div>"
			}
			let cell3 = "";
			for(i in afterdamages){
				cell3 += parseInt(afterdamages[i] * afterpenalties[i]);
				cell3 += "%"
				cell3+="<div id='or'>"+afterdamages[i]+"% in PvE</div>"
			}
			if(beforedamages.length==0&&afterdamages.length==0){ //populate damage array if there's a pvp penalty number and no damage number
				beforedamages.push(1000);
				afterdamages.push(1000);
			}
			let cell4 = 0;
			let cell5 = 0;
			cell4 = 100*(afterdamages[0] * afterpenalties[0])/(beforedamages[0] * beforepenalties[0])-100;
			cell4 = parseInt(100*cell4)/100;
			cell5 = 100*afterdamages[0]/beforedamages[0]-100;
			cell5 = parseInt(100*cell5)/100;
			rowData.push(row[0].innerText);
			rowData.push(cell2);
			rowData.push(cell3);
			rowData.push(cell4+"%");
			rowData.push(cell5+"%");
			}}
			else{
				rowData.push(row[k].innerText);
			}
		}
	}
	return rowData;
}
var glabupload;
async function onload(){
	//document.getElementById("inputpage").files = [];
	//document.getElementById("inputpage").files.push(url("glabrecent.html"));
	fetch("https://trillianh.github.io/patchcalc/glabr.html")
  .then((response) => response.blob())
  .then((myBlob) => {
    glabupload=myBlob;
	convert();
  });
}
function choosefile(){
	
	glabupload = document.getElementById("inputpage").files[0];
	convert();
}
function convert(){
	let r = new FileReader();
	r.readAsText(glabupload);
	r.addEventListener("load", function() {
 var table = document.getElementById("output");
 table.innerHTML = ""; //clear the table
 table.style="border-collapse: collapse; border: 1px solid #d9d9d9; line-height: 1.6;font-family: 'StrongSword_New', sans-serif;";
 let class_array = getJobnamesInHtml(r.result);
let dtt = getTitleInHtml(r.result);
document.getElementById("title").innerHTML=dtt;
for(let i=0; i<class_array.length; i++){
	
	if(class_array[i] instanceof String||typeof class_array[i]==='string'){
		currentJob = translateKRtoEN(class_array[i]);
		if(class_array[i+1] instanceof String||typeof class_array[i+1]==='string'){
		}
		else if(i==class_array.length){
		}
		else{
			var classrow = table.insertRow();
			var classcell = classrow.insertCell(0);
			classcell.colSpan = 5;
			classcell.id = "classcell";
			classcell.innerHTML = class_array[i];
		}
	}
	else{
		let currentTable = class_array[i].getElementsByTagName('tr');
		let datarow = table.insertRow();
		let cell1 = datarow.insertCell(0);
		let cell2 = datarow.insertCell(1);
		let cell3 = datarow.insertCell(2);
		let cell4 = datarow.insertCell(3);
		let cell5 = datarow.insertCell(4);
		cell1.innerHTML = "skill";
		cell2.innerHTML = "before";
		cell2.id = "header";
		cell3.innerHTML = "after";
		cell3.id= "header";
		cell4.innerHTML = "pvp change";
		cell4.id= "header";
		cell5.innerHTML = "pve change";
		cell5.id= "header";
		for(let n=1; n<currentTable.length; n++){
			let datarow = table.insertRow();
			let cell1 = datarow.insertCell(0);
			let cell2 = datarow.insertCell(1);
			let cell3 = datarow.insertCell(2);
			let cell4 = datarow.insertCell(3);
			let cell5 = datarow.insertCell(4);
			let rowData = convertRow(currentTable[n]);
			cell1.innerHTML = (isEN)?rowData[0]:translateSkillName(rowData[0],currentJob);
			cell2.innerHTML = rowData[1];
			cell3.innerHTML = rowData[2];
			cell4.innerHTML = rowData[3];
			cell5.innerHTML = rowData[4];
		}
	}
}
		}, false, function(){
		document.getElementById("outputmsg").value=("Invalid URL. Please enter a valid Global Lab URL.");
	}
	);
}
 


</script>
<p></p>
Upload KR / Global Labs / NAEU patch notes HTML file here:<input type="file" id="inputpage" label="Upload Global Labs HTML file" onchange="choosefile()" accept=".html">
<p id="outputmsg">This calculator will sometimes omit significant things like functional changes ex. added 100% crit chance, and changed hit count</p>
<p>Other regions and bdo foundry notes are not supported yet.</p>

<div id="border">
	<div id="title"></div>
<table id="output">
	<tr>
		<td><img src="https://i.imgur.com/klpTfxv.png" /></td>
	</tr>

</table></div>
</body>
</html>
